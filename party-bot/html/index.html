
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<style>
body {
  background-color: #000000;
  margin: 0;
  overflow: hidden;
}
</style>
</head>
<body>
<script src="lib/three.min.js"></script>
<script>

var camera, scene, renderer;
var geometry, material;

var startTime = Date.now();

var init = function () {

  renderer = new THREE.WebGLRenderer();
  renderer.setSize( window.innerWidth, window.innerHeight );
  document.body.appendChild( renderer.domElement );
  camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 1000 );
  camera.position.z = 15;
  camera.position.y = 5;
  camera.lookAt(new THREE.Vector3(0,0,0));

  scene = new THREE.Scene();

  loader = new THREE.JSONLoader();

  var ambientLight = new THREE.AmbientLight( 0xDFC183 );
  var light = new THREE.DirectionalLight( 0x444444, 0.3 );
  light.position.set( 10, 0, 0 );
  var light2 = new THREE.DirectionalLight( 0xFF0000, 1.0 );
  light2.position.set( -500, 250, -200 );
  scene.add(ambientLight);
  scene.add(light);
  //scene.add(light2);

  geometry = new THREE.CubeGeometry( 250, 250, 250 );
  //material = new THREE.MeshBasicMaterial( { color: 0x34ad34, wireframe: false, wireframeLinewidth: 4 } );
  material = new THREE.MeshLambertMaterial( { color: 0x003399, specular: 0x003399, shininess: 20 } );

  cube = new THREE.Mesh( geometry, material );
  loader.load('party-bot-spike.js', function (geometry, materials) {
      mesh = new THREE.Mesh(
        geometry,
        material
        );
      mesh.receiveShadow = true;
      mesh.castShadow = true;
      scene.add(mesh);
  });

};

var animate = function () {
  this.t = Date.now() - this.startTime;
  console.log(this.t);

  requestAnimationFrame( animate );

  var r = parseInt(35 + 50* Math.sin(0.0012*t));
  var g = parseInt(135 + 100 * Math.sin(0.001*t));
  var b = parseInt(35 + 50 * Math.cos(0.0011*t));

  cube.rotation.y = this.t/1000;
  mesh.rotation.y = this.t/1000;

  cube.material.color.setRGB(250,0,250);

  //        document.body.style.background = "rgb(" + r + "," + g + "," + b + ")";

  renderer.render( scene, camera );
};

init();
animate();

</script>
</body>
</html>

